<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>WMS - Controle Estoque</title>
    <link rel="stylesheet" href="style.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/quagga/0.12.1/quagga.min.js"></script>
</head>
<body>

    <h1>WMS - Controle Estoque</h1>

    <section id="login" class="tab">
        <h2>Acesso ao Sistema</h2>
        <input type="text" id="cnpj" placeholder="CNPJ da Loja" />
        <input type="password" id="senha" placeholder="Senha" />
        <button onclick="fazerLogin()">Entrar</button>
        <a href="#" onclick="showTab('cadastroLoja')">Não tenho cadastro, quero cadastrar minha loja.</a>
    </section>

    <section id="cadastroLoja" class="tab" style="display:none;">
        <h2>Cadastrar Loja</h2>
        <input type="text" id="cnpjCadastro" placeholder="CNPJ da Loja" />
        <input type="password" id="senhaCadastro" placeholder="Criar Senha" />
        <button onclick="salvarLoja()">Cadastrar Loja</button>
        <a href="#" onclick="showTab('login')">Voltar para o Login</a>
    </section>

    <div class="tabs" style="display:none;" id="mainTabs">
        <button onclick="showTab('cadastro')" id="btn-cadastro">Cadastro de Produto</button>
        <button onclick="showTab('estoque')" id="btn-estoque">Estoque</button>
        <button onclick="showTab('buscarProduto')" id="btn-buscar">Buscar Produto</button>
        <button onclick="showTab('movimentacoes')" id="btn-movimentacoes">Movimentações</button>
        

    </div>

    <section id="cadastro" class="tab" style="display:none;">
        <h2>Cadastrar Produto</h2>
        <input type="text" id="nomeProduto" placeholder="Nome do Produto" />
        <input type="text" id="codigoBarras" placeholder="Código de Barras (ou use a câmera)" />
        <input type="text" id="ruaProduto" placeholder="Rua de Armazenamento" />
        <input type="number" id="quantidade" placeholder="Quantidade" min="1" value="1" />
        <br />
        <button onclick="startScanner()">Ler Código de Barras</button>
        <button id="salvarProdutoBtn" onclick="salvarProduto()">Salvar Produto</button>

        <div id="camera" class="camera"></div>
    </section>

    <section id="estoque" class="tab" style="display:none;">
        <h2>Estoque Atual</h2>
        <input type="text" id="filtro" placeholder="Buscar por nome ou código" oninput="filtrarEstoque()" />
        <ul id="listaEstoque"></ul>
        <button onclick="exportarCSV()">Exportar para CSV</button>
    </section>

    <section id="buscarProduto" class="tab" style="display:none;">
        <h2>Buscar Produto</h2>
        <input type="text" id="codigoBarrasBusca" placeholder="Código de Barras (ou use a câmera)" />
        <br />
        <button onclick="startScannerBusca()">Ler Código de Barras para Buscar</button>
        <button onclick="buscarProdutoPorCodigo()">Buscar Produto</button>
        <div id="resultadoBusca" style="margin-top: 20px;"></div>
    </section>

    <section id="movimentacoes" class="tab" style="display:none;">
    <h2>Movimentações</h2>

    <h3>Registrar Entrada</h3>
    <form id="entradaForm">
        Código do Produto: <input type="text" id="entradaCodigo"><br>
        Quantidade: <input type="number" id="entradaQuantidade"><br>
        Rua: <input type="text" id="entradaRua">
        Coluna: <input type="number" id="entradaColuna">
        Posição: <input type="number" id="entradaPosicao"><br>
        Motivo: <input type="text" id="entradaMotivo"><br>
        <button type="submit">Registrar Entrada</button>
    </form>

    <h3>Registrar Saída</h3>
    <form id="saidaForm">
        Código do Produto: <input type="text" id="saidaCodigo"><br>
        Quantidade: <input type="number" id="saidaQuantidade"><br>
        Rua: <input type="text" id="saidaRua">
        Coluna: <input type="number" id="saidaColuna">
        Posição: <input type="number" id="saidaPosicao"><br>
        Motivo: <input type="text" id="saidaMotivo"><br>
        <button type="submit">Registrar Saída</button>
    </form>

    <h3>Transferência</h3>
    <form id="transferenciaForm">
        Código do Produto: <input type="text" id="transfCodigo"><br>
        Quantidade: <input type="number" id="transfQuantidade"><br>
        Origem - Rua: <input type="text" id="transfOrigemRua">
        Coluna: <input type="number" id="transfOrigemColuna">
        Posição: <input type="number" id="transfOrigemPosicao"><br>
        Destino - Rua: <input type="text" id="transfDestinoRua">
        Coluna: <input type="number" id="transfDestinoColuna">
        Posição: <input type="number" id="transfDestinoPosicao"><br>
        Motivo: <input type="text" id="transfMotivo"><br>
        <button type="submit">Registrar Transferência</button>
    </form>

    <h3>Histórico de Movimentações</h3>
    Código do Produto: <input type="text" id="historicoCodigo">
    <button type="button" onclick="buscarHistorico()">Buscar</button>
    <ul id="historicoResultado"></ul>

    <h3>Cadastrar Endereço</h3>
    <form id="enderecoForm">
        Rua: <input type="text" id="endRua">
        Coluna: <input type="number" id="endColuna">
        Posição: <input type="number" id="endPosicao"><br>
        <button type="submit">Cadastrar Endereço</button>
    </form>
</section>


    <script src="script.js"></script>
</body>
</html>
